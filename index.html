<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="WafflesForArt - Whimsical artwork across illustration, animation, storyboarding, concept art, and photography">
    <meta property="og:title" content="WafflesForArt Portfolio">
    <meta property="og:description" content="Explore whimsical artwork across multiple disciplines">
    <meta property="og:type" content="website">
    <title>WafflesForArt - Creative Portfolio</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/pages.css">
</head>
<body>
    <!-- Navigation will be dynamically generated -->
    
    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-background">
            <img class="hero-image" id="heroImage" src="" alt="Featured artwork">
            <div class="hero-gradient"></div>
        </div>
        
        <div class="hero-content">
            <h1 class="hero-title">WafflesForArt</h1>
            <p class="hero-subtitle">Hello! I am an undergraduate art student trying to support myself for my tuition.</p>
            <a href="#gallery" class="hero-cta">Explore My Work</a>
        </div>

        <!-- Sparkle Effects -->
        <div class="sparkle" style="top: 20%; left: 10%;"></div>
        <div class="sparkle" style="top: 70%; right: 15%;"></div>
        <div class="sparkle" style="bottom: 30%; left: 20%;"></div>
    </section>
    
    <!-- Gallery Section -->
    <section class="gallery-section" id="gallery">
        <div class="section-header">
            <h2 class="section-title">What I'm Working On</h2>
            <!-- TODO: Title: "What I'm Working On" -->
            <p class="section-subtitle">ðŸ§‡ who knew breakfast could draw?</p>
        </div>
        
        <!-- Category Filter -->
        <div class="filter-container" id="filterContainer">
            <!-- Filters will be populated by JavaScript -->
        </div>
        
        <!-- Gallery Grid -->
        <div class="gallery-grid" id="galleryGrid">
            <!-- Gallery items will be dynamically generated -->
        </div>
    </section>
    
    <!-- Footer will be dynamically generated -->

    <!-- Floating Clouds will be dynamically generated -->

    <!-- Scripts -->
<script src="js/config.js"></script>
<script src="js/main.js"></script>
<script>
    // Page-specific initialization
    document.addEventListener('DOMContentLoaded', async () => {
        // Populate filters first (synchronously)
        const filterContainer = document.getElementById('filterContainer');
        SITE_CONFIG.categories.forEach(cat => {
            const btn = document.createElement('button');
            btn.className = cat.default ? 'filter-btn active' : 'filter-btn';
            btn.dataset.filter = cat.id;
            btn.textContent = cat.label;
            filterContainer.appendChild(btn);
        });
        
        // Try to load page-specific config
        let homeConfig = {};
        try {
            const response = await fetch('data/page-configs.json');
            const pageConfigs = await response.json();
            homeConfig = pageConfigs.homepage;
        } catch (error) {
            console.warn('Using fallback config');
            homeConfig = {
                artworkMetadata: {
                    1: { title: 'Dreamscape Journey', category: 'illustration', hasShop: true },
                    2: { title: 'Character Exploration', category: 'concept', hasShop: false },
                    3: { title: 'Morning Mist', category: 'photography', hasShop: false },
                    4: { title: 'Storyboard: Act I', category: 'storyboarding', hasShop: false },
                    5: { title: 'Whimsical Creatures', category: 'illustration', hasShop: true },
                    6: { title: 'Motion Study', category: 'animation', hasShop: false },
                    7: { title: 'Fantasy Landscape', category: 'concept', hasShop: false },
                    8: { title: 'Golden Hour', category: 'photography', hasShop: false },
                    9: { title: 'Scene Planning', category: 'storyboarding', hasShop: false },
                    10: { title: 'Magical Forest', category: 'illustration', hasShop: true },
                    11: { title: 'Character Animation', category: 'animation', hasShop: false },
                    12: { title: 'Environment Design', category: 'concept', hasShop: false },
                    13: { title: 'Sunset Portrait', category: 'photography', hasShop: false },
                    14: { title: 'Comic Panel Study', category: 'storyboarding', hasShop: false },
                    15: { title: 'Digital Painting', category: 'illustration', hasShop: true }
                }
            };
        }
        
        // Generate gallery items
        const items = PortfolioUtils.Utils.generateArtworkItems(
            SITE_CONFIG.pages.home.galleryItemCount,
            homeConfig.artworkMetadata || {},
            SITE_CONFIG.paths.artwork,
            SITE_CONFIG.defaultMetadata.artwork.category
        );
        
        // Populate gallery
        PortfolioUtils.Gallery.populate('galleryGrid', items, {
            lazyLoad: true,
            showOverlay: true
        });
        
        // Initialize filter functionality after items are added
        PortfolioUtils.Gallery.setupFilters();
    });
</script>
</body>
</html>